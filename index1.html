<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Project: Rock, Paper, Scissors</title>

  </head>
  <body>
    <div class='c-div__heading'>
      <h1 class='c-div__heading--h1'>Welcome to my Rock Paper Scissors Game</h1>
      <h2 class='c-div__heading--h2'>Click a button to start, the first to 5 wins. Good Luck!</h2>
    </div>
    <div class='c-div__buttons'>
      <button type='button' value='rock'>Rock</button>
      <button type='button' value='paper'>Paper</button>
      <button type='button' value='scissors'>Scissors</button>
    </div>
    <div class='c-div__results'>
      
    </div>



    <script>

      let result
      let playerScore = 0
      let computerScore = 0


      function computerPlay() {
        const randomDecimal = Math.random()
        const randomNumToThree = randomDecimal * 3
        const roundedNum = Math.floor(randomNumToThree)

        const weapons = ['rock', 'paper', 'scissors']
        const computerWeapon = weapons[roundedNum]

        return computerWeapon
      }
      
      const buttons = document.querySelectorAll('button')

      buttons.forEach((button) => {
        button.addEventListener('click', (e) => {
            // Call play round function and pass through e.target.value as the player selection argument
            playRound(e.target.value, computerPlay())
        })
          
      })
        
        

      function playRound(playerSelection, computerSelection) {  
        
        if (playerSelection === computerSelection) {
          result = `Draw! you both have ${playerSelection}.`
        } else if ((playerSelection === 'rock' && computerSelection === 'paper') || 
                  (playerSelection === 'paper' && computerSelection === 'scissors') ||
                  (playerSelection === 'scissors' && computerSelection === 'rock')) {
          result = `Computer Wins! ${computerSelection} beats ${playerSelection}.`
          computerScore++
        } else if ((playerSelection === 'paper' && computerSelection === 'rock') || 
                  (playerSelection === 'scissors' && computerSelection === 'paper') ||
                  (playerSelection === 'rock' && computerSelection === 'scissors')) {
          result = `Player Wins! ${playerSelection} beats ${computerSelection}.`
          playerScore++
        } else {
          result = 'You must choose rock, paper or scissors'
        }

      const resultsContainer = document.querySelector('.c-div__results')
      let scorePara = document.createElement('p')
      scorePara.textContent = `${result} Current Scores: Player = ${playerScore}, Computer = ${computerScore}`
      resultsContainer.appendChild(scorePara)

      if (playerScore === 5 || computerScore === 5) {
        if (playerScore > computerScore) {
          scorePara.textContent = `${result} Final Scores: Player = ${playerScore}, Computer = ${computerScore}. Game over you are the first to 5. Congratulations!`
        } else {
          scorePara.textContent = `${result} Final Scores: Player = ${playerScore}, Computer = ${computerScore}. Game over the Computer is the first to 5. Commiserations!`
        }
        playerScore = 0
        computerScore = 0
      }

      }
      
      

      
      
    </script>
  </body>
</html>